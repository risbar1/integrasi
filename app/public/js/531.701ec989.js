"use strict";(globalThis["webpackChunkriskyakbar"]=globalThis["webpackChunkriskyakbar"]||[]).push([[531],{4531:(e,a,t)=>{t.r(a),t.d(a,{default:()=>H});var s=t(9835),l=t(1957);const o={class:"column"},n={class:"row"},r=(0,s._)("img",{src:"icons/favicon-128x128.png",style:{height:"140px","max-width":"150px"}},null,-1),d=(0,s._)("p",{class:"text-weight-bolder text-grey text-center"},[(0,s.Uk)("Aplikasi Morada"),(0,s._)("br"),(0,s.Uk)("Monitoring Anggaran Pengadaan R1")],-1),i={class:"row full-width items-center"},u={class:"col-10"},c=(0,s.Uk)("Â  "),m=(0,s._)("br",null,null,-1),p=(0,s._)("img",{src:"icons/favicon-128x128.png",style:{height:"140px","max-width":"150px"}},null,-1),w=(0,s._)("p",{class:"text-weight-bolder text-grey text-center"},[(0,s.Uk)("Aplikasi Morada"),(0,s._)("br"),(0,s.Uk)("Monitoring Anggaran Pengadaan R1")],-1),h={class:"q-pa-md"},k=(0,s._)("br",null,null,-1);function g(e,a,t,g,_,f){const b=(0,s.up)("center"),y=(0,s.up)("q-card-section"),q=(0,s.up)("q-icon"),x=(0,s.up)("q-input"),W=(0,s.up)("q-form"),Z=(0,s.up)("q-btn"),v=(0,s.up)("q-card-actions"),C=(0,s.up)("q-card"),U=(0,s.up)("q-option-group"),Q=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(Q,{class:"window-height window-width row justify-center items-center",style:{background:"linear-gradient(135deg,  #EA5C54  0%,#bb6dec 100%)"}},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s._)("div",n,[!0===e.cek?((0,s.wg)(),(0,s.j4)(W,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{rounded:"",dark:"",class:"q-pa-md q-ma-none no-shadow bg-grey-10",style:{width:"320px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"q-mt-xl q-mb-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[r])),_:1}),d])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{dark:"",dense:"",square:"",filled:"",clearable:"",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=a=>e.username=a),type:"text",label:"Email"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(q,{name:"email"})])),_:1},8,["modelValue"]),(0,s.Wm)(x,{dark:"",dense:"",square:"",filled:"",clearable:"",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.password=a),type:"password",label:"Password"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(q,{name:"lock"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("div",u,[(0,s.Wm)(Z,{outline:"",rounded:"",size:"md",color:"red-4",class:"text-white",label:"Reset",onClick:f.reset,icon:"autorenew"},null,8,["onClick"]),c,(0,s.Wm)(Z,{outline:"",rounded:"",size:"md",color:"red-4",class:"text-white",label:"Login",onClick:f.login,icon:"login"},null,8,["onClick"])])])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),m,!1===e.cek?((0,s.wg)(),(0,s.j4)(W,{key:1,onSubmit:(0,l.iM)(f.Hakakses,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{rounded:"",dark:"",class:"q-pa-md q-ma-none no-shadow bg-grey-10",style:{width:"320px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"q-mt-xl q-mb-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[p])),_:1}),w])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s.Wm)(U,{type:"radio",modelValue:e.f_otoritas_id,"onUpdate:modelValue":a[2]||(a[2]=a=>e.f_otoritas_id=a),options:e.hak_akses},null,8,["modelValue","options"])]),k,(0,s.Wm)(Z,{label:"Pilih Hak Akses",type:"submit",color:"secondary"})])),_:1})])),_:1})])),_:1},8,["onSubmit"])):(0,s.kq)("",!0)])])])),_:1})}t(702),t(3269),t(4328);var _=t(9981),f=t.n(_),b=t(752);const y={data:()=>({api:b.Z.Host(),username:"",password:"",message:"",hak_akses:[],f_otoritas_id:"",cek:!0}),mounted(){console.log("alamat",b.Z.Host())},methods:{async reset(){this.username="",this.password=""},async login(){try{const a=new URLSearchParams;a.append("username",this.username),a.append("password",this.password);let t=await f().post(this.api+"/auth/login",a);if(0===t.data.Error_code){let a=t.data.Data;if(localStorage.setItem("jwt",a),a){let a=t.data.Username;var e=await f().get(this.api+"/auth/hak_akses/"+a);this.hak_akses=e.data;for(const t of e.data)t.value=t.f_otoritas,t.label=t.f_otoritas;this.cek=!1}}else this.$q.notify(b.Z.CustomNotify("error",t.data.Error_desc,2e4,"center"))}catch(a){this.$q.notify(b.Z.CustomNotify("error",a.response,2e4,"center"))}},async Hakakses(){try{localStorage.setItem("user",this.f_otoritas_id),this.$router.push("/dashboard")}catch(e){}}}};var q=t(1639),x=t(9885),W=t(8326),Z=t(4458),v=t(3190),C=t(6611),U=t(2857),Q=t(1821),V=t(4455),A=t(1986),P=t(9984),S=t.n(P);const j=(0,q.Z)(y,[["render",g]]),H=j;S()(y,"components",{QPage:x.Z,QForm:W.Z,QCard:Z.Z,QCardSection:v.Z,QInput:C.Z,QIcon:U.Z,QCardActions:Q.Z,QBtn:V.Z,QOptionGroup:A.Z})}}]);