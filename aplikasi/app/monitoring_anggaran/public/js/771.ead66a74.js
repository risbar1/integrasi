"use strict";(globalThis["webpackChunkriskyakbar"]=globalThis["webpackChunkriskyakbar"]||[]).push([[771],{8771:(a,t,i)=>{i.r(t),i.d(t,{default:()=>j});var e=i(9835),s=i(6970);const o={class:"q-pa-md"},n={class:"q-pa-md"},d={class:"q-pa-md"};function r(a,t,i,r,l,c){const u=(0,e.up)("q-btn"),m=(0,e.up)("q-toolbar-title"),p=(0,e.up)("q-toolbar"),h=(0,e.up)("q-header"),k=(0,e.up)("q-input"),g=(0,e.up)("q-page"),f=(0,e.up)("q-page-container"),b=(0,e.up)("q-layout");return(0,e.wg)(),(0,e.iD)("div",o,[(0,e.Wm)(b,{class:"shadow-2 rounded-borders"},{default:(0,e.w5)((()=>[(0,e.Wm)(h,{class:"bg-primary"},{default:(0,e.w5)((()=>[(0,e.Wm)(p,null,{default:(0,e.w5)((()=>[(0,e.Wm)(u,{flat:"",round:"",dense:"",icon:"book"}),(0,e.Wm)(m,null,{default:(0,e.w5)((()=>[(0,e.Uk)("Data "+(0,s.zw)(this.$route.params.action),1)])),_:1})])),_:1})])),_:1}),(0,e.Wm)(f,null,{default:(0,e.w5)((()=>[(0,e.Wm)(g,{padding:""},{default:(0,e.w5)((()=>[(0,e._)("div",n,[(0,e.Wm)(k,{outlined:"",label:"NAMA",modelValue:a.data.f_nama,"onUpdate:modelValue":t[0]||(t[0]=t=>a.data.f_nama=t),maxlength:"100",readonly:!a.aksiEdit},null,8,["modelValue","readonly"])]),(0,e._)("div",d,[a.aksiEdit?((0,e.wg)(),(0,e.j4)(u,{key:0,color:"primary",icon:"done",label:"Simpan",onClick:t[1]||(t[1]=t=>c.onSave(a.data.f_monitoring_jenis_id))})):(0,e.kq)("",!0),a.aksiEdit?(0,e.kq)("",!0):((0,e.wg)(),(0,e.j4)(u,{key:1,unelevated:"",color:"amber",label:"Edit",onClick:t[2]||(t[2]=t=>c.openEdit(a.data.f_monitoring_jenis_id)),icon:"create"}))])])),_:1})])),_:1})])),_:1})])}i(4328);var l=i(9981),c=i.n(l),u=i(752);const m={data:()=>({api:u.Z.Host(),message:"",data:[],aksiEdit:!1,aksiSave:!1}),mounted(){console.log("alamat",u.Z.Host()),this.Getdata(),"tambah"===this.$route.params.action&&(this.aksiEdit=!0,this.aksiSave=!0),"edit"===this.$route.params.action&&(this.aksiEdit=!0,this.aksiSave=!0),"detail"===this.$route.params.action&&(this.aksiEdit=!1,this.aksiSave=!1)},computed:{},methods:{async Getdata(){try{const a=this.$route.params.action;if("detail"===a||"edit"===a){let a=await c().get(this.api+"/jenis/edit/"+this.$route.params.id,u.Z.authHeader());this.data=a.data}}catch(a){console.error(a)}},async openDetail(a){document.location="#/jenispageaction/detail/"+a},async openEdit(a){document.location="#/jenispageaction/edit/"+a,location.reload()},validation(){return this.data.f_nama?{code:200,message:""}:{code:500,message:"Nama Data ini harus diisi"}},async onSave(){const a=this.validation();if(200===a.code){var t=null;const a=this.$route.params.action,i=Object.assign({},this.data);t="tambah"===a?await c().post(this.api+"/jenis/add",i,u.Z.authHeader()):await c().put(this.api+"/jenis/edit/"+this.$route.params.id,i,u.Z.authHeader()),200===t.data.code?(this.$q.notify(u.Z.CustomNotify("success",t.data.message,1e3,"center")),document.location="#/jenispageaction/detail/"+t.data.data.f_monitoring_jenis_id,location.reload(),this.aksiEdit=!this.aksiEdit,this.aksiSave=!1):this.$q.notify(u.Z.CustomNotify("error",t.data.message,2e4,"center"))}else this.$q.notify(u.Z.CustomNotify("error",a.message,2e4,"center"))}}};var p=i(1639),h=i(7605),k=i(6602),g=i(1663),f=i(4455),b=i(1973),y=i(2133),_=i(9885),v=i(6611),Z=i(9984),q=i.n(Z);const w=(0,p.Z)(m,[["render",r]]),j=w;q()(m,"components",{QLayout:h.Z,QHeader:k.Z,QToolbar:g.Z,QBtn:f.Z,QToolbarTitle:b.Z,QPageContainer:y.Z,QPage:_.Z,QInput:v.Z})}}]);