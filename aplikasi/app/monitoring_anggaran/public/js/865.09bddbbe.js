"use strict";(globalThis["webpackChunkriskyakbar"]=globalThis["webpackChunkriskyakbar"]||[]).push([[865],{8865:(a,e,n)=>{n.r(e),n.d(e,{default:()=>Q});var t=n(9835),i=n(6970);const l={class:"q-pa-md"},d={class:"q-pa-md"},o={class:"q-pa-md"},s={class:"q-pa-md"},r={class:"q-pa-md"},m={class:"q-pa-md"},_={key:0,class:"q-pa-md"},u={key:1,class:"q-pa-md"},g={key:2,class:"q-pa-md"},p={key:3,class:"q-pa-md"},c={key:4,class:"q-pa-md"},f={class:"q-pa-md"},h={class:"q-pa-md"},k={class:"q-pa-md"},y={class:"q-pa-md"},b={class:"q-pa-md"},V={class:"q-pa-md"},j={class:"q-pa-md"},v={class:"q-pa-md"},q={class:"q-pa-md"};function w(a,e,n,w,D,U){const F=(0,t.up)("q-btn"),I=(0,t.up)("q-toolbar-title"),N=(0,t.up)("q-toolbar"),S=(0,t.up)("q-header"),E=(0,t.up)("q-select"),W=(0,t.up)("q-input"),Z=(0,t.up)("q-page"),x=(0,t.up)("q-page-container"),P=(0,t.up)("q-layout");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(P,{class:"shadow-2 rounded-borders"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{class:"bg-primary"},{default:(0,t.w5)((()=>[(0,t.Wm)(N,null,{default:(0,t.w5)((()=>[(0,t.Wm)(F,{flat:"",round:"",dense:"",icon:"book"}),(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Data "+(0,i.zw)(this.$route.params.action),1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(x,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t.Wm)(E,{outlined:"",modelValue:a.data.f_jenis,"onUpdate:modelValue":e[0]||(e[0]=e=>a.data.f_jenis=e),options:a.datajenis,"option-label":"f_nama",label:"Jenis","option-value":"f_monitoring_jenis_id",onClick:U.pilihmodeljenis},null,8,["modelValue","options","onClick"])]),(0,t._)("div",o,[(0,t.Wm)(E,{outlined:"",modelValue:a.data.f_tahun,"onUpdate:modelValue":e[1]||(e[1]=e=>a.data.f_tahun=e),options:a.datatahun,"option-label":"f_tahun",label:"Tahun","option-value":"f_tahun"},null,8,["modelValue","options"])]),(0,t._)("div",s,[(0,t.Wm)(W,{outlined:"",label:"Nama Paket Pengadaan",modelValue:a.data.f_nama_paket_pengadaan,"onUpdate:modelValue":e[2]||(e[2]=e=>a.data.f_nama_paket_pengadaan=e),readonly:!a.aksiEdit,type:"textarea"},null,8,["modelValue","readonly"])]),(0,t._)("div",r,[1===this.jeniselect?((0,t.wg)(),(0,t.j4)(W,{key:0,outlined:"",label:"Barang Pengadaan",modelValue:a.data.f_barang_pengadaan,"onUpdate:modelValue":e[3]||(e[3]=e=>a.data.f_barang_pengadaan=e),readonly:!a.aksiEdit,type:"textarea"},null,8,["modelValue","readonly"])):(0,t.kq)("",!0)]),(0,t._)("div",m,[(0,t.Wm)(W,{outlined:"",label:"MAK",modelValue:a.data.f_mak,"onUpdate:modelValue":e[4]||(e[4]=e=>a.data.f_mak=e),maxlength:"100",readonly:!a.aksiEdit},null,8,["modelValue","readonly"])]),1===this.jeniselect?((0,t.wg)(),(0,t.iD)("div",_,[(0,t.Wm)(W,{outlined:"",label:"Volume",modelValue:a.data.f_volume,"onUpdate:modelValue":e[5]||(e[5]=e=>a.data.f_volume=e),type:"number",maxlength:"100",readonly:!a.aksiEdit},null,8,["modelValue","readonly"])])):(0,t.kq)("",!0),1===this.jeniselect&&"IDRÂ 0"!==a.data.f_harga_satuan_masking?((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(W,{outlined:"",label:"PPN",modelValue:a.data.f_ppn,"onUpdate:modelValue":e[6]||(e[6]=e=>a.data.f_ppn=e),type:"number",maxlength:"3",readonly:!a.aksiEdit},null,8,["modelValue","readonly"])])):(0,t.kq)("",!0),1===this.jeniselect?((0,t.wg)(),(0,t.iD)("div",g,[(0,t.Wm)(W,{outlined:"",label:"Harga Satuan",modelValue:a.data.f_harga_satuan_masking,"onUpdate:modelValue":e[7]||(e[7]=e=>a.data.f_harga_satuan_masking=e),maxlength:"32",onKeyup:e[8]||(e[8]=e=>U.numberFormat("biaya4",a.data.f_harga_satuan_masking)),readonly:!a.aksiEdit,hint:"Harga Satuan diisi 0 jika tidak ada"},null,8,["modelValue","readonly"])])):(0,t.kq)("",!0),1===this.jeniselect?((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(W,{outlined:"",label:"Harga Satuan (PPN)",modelValue:a.data.f_harga_satuan_ppn_masking,"onUpdate:modelValue":e[9]||(e[9]=e=>a.data.f_harga_satuan_ppn_masking=e),maxlength:"32",onKeyup:e[10]||(e[10]=e=>U.numberFormat("biaya5",a.data.f_harga_satuan_ppn_masking)),readonly:!a.aksiEdit},null,8,["modelValue","readonly"])])):(0,t.kq)("",!0),1===this.jeniselect?((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(W,{outlined:"",label:"Total Pembelian",modelValue:a.data.f_nilai_pengadaan_masking,"onUpdate:modelValue":e[11]||(e[11]=e=>a.data.f_nilai_pengadaan_masking=e),maxlength:"32",onKeyup:e[12]||(e[12]=e=>U.numberFormat("biaya6",a.data.f_nilai_pengadaan_masking)),readonly:!a.aksiSave},null,8,["modelValue","readonly"])])):(0,t.kq)("",!0),(0,t._)("div",f,[(0,t.Wm)(E,{outlined:"",modelValue:a.data.f_user,"onUpdate:modelValue":e[13]||(e[13]=e=>a.data.f_user=e),options:a.datauser,"option-label":"f_nama",label:"Pengusul","option-value":"f_monitoring_user_id"},null,8,["modelValue","options"])]),(0,t._)("div",h,[(0,t.Wm)(W,{outlined:"",label:"Nomor SPK",modelValue:a.data.f_nomor_spk,"onUpdate:modelValue":e[14]||(e[14]=e=>a.data.f_nomor_spk=e),maxlength:"150",readonly:!a.aksiEdit},null,8,["modelValue","readonly"])]),(0,t._)("div",k,[(0,t.Wm)(W,{outlined:"",label:"Nomor Kwitansi",modelValue:a.data.f_nomor_kwitansi,"onUpdate:modelValue":e[15]||(e[15]=e=>a.data.f_nomor_kwitansi=e),maxlength:"150",readonly:!a.aksiEdit},null,8,["modelValue","readonly"])]),(0,t._)("div",y,[1!==this.jeniselect?((0,t.wg)(),(0,t.j4)(W,{key:0,outlined:"",label:"Nilai Pengadaan",modelValue:a.data.f_nilai_pengadaan_masking,"onUpdate:modelValue":e[16]||(e[16]=e=>a.data.f_nilai_pengadaan_masking=e),maxlength:"32",onKeyup:e[17]||(e[17]=e=>U.numberFormat("biaya3",a.data.f_nilai_pengadaan_masking)),readonly:!a.aksiEdit},null,8,["modelValue","readonly"])):(0,t.kq)("",!0)]),(0,t._)("div",b,[(0,t.Wm)(W,{outlined:"",label:"Penyedia",modelValue:a.data.f_penyedia,"onUpdate:modelValue":e[18]||(e[18]=e=>a.data.f_penyedia=e),maxlength:"150",readonly:!a.aksiEdit},null,8,["modelValue","readonly"])]),(0,t._)("div",V,[(0,t.Wm)(W,{outlined:"",label:"Tanggal Kontrak/ Kwitansi",modelValue:a.data.f_tanggal_pengadaan,"onUpdate:modelValue":e[19]||(e[19]=e=>a.data.f_tanggal_pengadaan=e),readonly:!a.aksiEdit,type:"date"},null,8,["modelValue","readonly"])]),(0,t._)("div",j,[(0,t.Wm)(W,{outlined:"",label:"Total Anggaran Terpakai",modelValue:a.data.f_total_anggaran_terpakai_masking,"onUpdate:modelValue":e[20]||(e[20]=e=>a.data.f_total_anggaran_terpakai_masking=e),maxlength:"32",onKeyup:e[21]||(e[21]=e=>U.numberFormat("biaya1",a.data.f_total_anggaran_terpakai_masking)),readonly:!a.aksiSave},null,8,["modelValue","readonly"])]),(0,t._)("div",v,[(0,t.Wm)(W,{outlined:"",label:"Sisa Anggaran",modelValue:a.data.f_sisa_anggaran_masking,"onUpdate:modelValue":e[22]||(e[22]=e=>a.data.f_sisa_anggaran_masking=e),maxlength:"32",onKeyup:e[23]||(e[23]=e=>U.numberFormat("biaya2",a.data.f_sisa_anggaran_masking)),readonly:!a.aksiSave},null,8,["modelValue","readonly"])]),(0,t._)("div",q,[a.aksiEdit?((0,t.wg)(),(0,t.j4)(F,{key:0,color:"primary",icon:"done",label:"Simpan",onClick:e[24]||(e[24]=e=>U.onSave(a.data.f_monitoring_id))})):(0,t.kq)("",!0),a.aksiEdit?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(F,{key:1,unelevated:"",color:"amber",label:"Edit",onClick:e[25]||(e[25]=e=>U.openEdit(a.data.f_monitoring_id)),icon:"create"}))])])),_:1})])),_:1})])),_:1})])}n(8964),n(1526),n(4328);var D=n(9981),U=n.n(D),F=n(752);n(3009);const I={data:()=>({api:F.Z.Host(),message:"",data:{f_ppn:11},aksiEdit:!1,f_jenis:"",f_tahun:"",f_nilai_pengadaan_masking:"IDR 0",f_nilai_pengadaan:0,f_total_anggaran_terpakai_masking:"IDR 0",f_total_anggaran_terpakai:0,f_sisa_anggaran_masking:"IDR 0",f_sisa_anggaran:0,f_harga_satuan_masking_masking:"IDR 0",f_harga_satuan_masking:0,f_harga_satuan_ppn_masking:"IDR 0",f_harga_satuan_ppn:0,options:"",datajenis:[],datauser:[]}),mounted(){console.log("alamat",F.Z.Host()),this.Getfilter(),this.Getdata(),"tambah"===this.$route.params.action&&(this.aksiEdit=!0,this.aksiSave=!1),"edit"===this.$route.params.action&&(this.aksiEdit=!0,this.aksiSave=!0),"detail"===this.$route.params.action&&(this.aksiEdit=!1,this.aksiSave=!1)},computed:{pilihmodeljenis(){return this.Getdatapilih(this.data.f_jenis)}},methods:{async Gettotalpembelian(a){console.log("f_harga_satuan_ppn_masking",a)},async Getdatapilih(){const a=this.$route.params.action;"tambah"===a&&(this.jeniselect=this.data.f_jenis.f_monitoring_jenis_id?this.data.f_jenis.f_monitoring_jenis_id:"")},async Getdata(){try{const a=this.$route.params.action;if("detail"===a||"edit"===a){let a=await U().get(this.api+"/monitoring/edit/"+this.$route.params.id,F.Z.authHeader());this.data=a.data,this.jeniselect=a.data.f_jenis.f_monitoring_jenis_id?a.data.f_jenis.f_monitoring_jenis_id:1}}catch(a){console.error(a)}},async Getfilter(){try{let a=await U().get(this.api+"/jenis/index",F.Z.authHeader());this.datajenis=a.data;let e=await U().get(this.api+"/user/index",F.Z.authHeader());this.datauser=e.data;let n=[],t=(new Date).getFullYear();do{n.push({f_tahun:t}),t--}while(t>2001);this.datatahun=n}catch(a){console.error(a)}},async openDetail(a){document.location="#/datapageaction/detail/"+a},async openEdit(a){document.location="#/datapageaction/edit/"+a,location.reload()},validation(){return this.data.f_nama_paket_pengadaan?this.data.f_mak?{code:200,message:""}:{code:500,message:"MAK Data ini harus diisi"}:{code:500,message:"Nama Paket Pengadaan Data ini harus diisi"}},async onSave(){const a=this.validation();if(200===a.code){var e=null;const a=this.$route.params.action;this.data.jenis=this.data.f_monitoring_jenis_id;const n=Object.assign({},this.data);n["f_tanggal_pengadaan"]=n.f_tanggal_pengadaan?n.f_tanggal_pengadaan:"","tambah"===a?(n["f_jenis"]=n.f_jenis.f_monitoring_jenis_id,n["f_user"]=n.f_user.f_monitoring_user_id,n["f_tahun"]=n.f_tahun.f_tahun,e=await U().post(this.api+"/monitoring/add",n,F.Z.authHeader())):(n["f_jenis"]=n.f_jenis.f_monitoring_jenis_id?n.f_jenis.f_monitoring_jenis_id:n.f_jenis,n["f_tahun"]=n.f_tahun.f_tahun?n.f_tahun.f_tahun:n.f_tahun,n["f_user"]=n.f_user.f_monitoring_user_id?n.f_user.f_monitoring_user_id:n.f_user,e=await U().put(this.api+"/monitoring/edit/"+this.$route.params.id,n,F.Z.authHeader())),200===e.data.code?(this.$q.notify(F.Z.CustomNotify("success",e.data.message,1e3,"center")),document.location="#/datapageaction/detail/"+e.data.data.f_monitoring_id,location.reload(),this.aksiEdit=!this.aksiEdit,this.aksiSave=!1):this.$q.notify(F.Z.CustomNotify("error",e.data.message,2e4,"center"))}else this.$q.notify(F.Z.CustomNotify("error",a.message,2e4,"center"))},numberFormat(a,e){if("biaya1"===a){const a=e.replace(/[^\d]+/gi,"");this.data.f_total_anggaran_terpakai=Number(a),this.data.f_total_anggaran_terpakai_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a).replace(/,/g,".")}if("biaya2"===a){const a=e.replace(/[^\d]+/gi,"");this.data.f_sisa_anggaran=Number(a),this.data.f_sisa_anggaran_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a).replace(/,/g,".")}if("biaya3"===a){const a=e.replace(/[^\d]+/gi,"");this.data.f_nilai_pengadaan=Number(a),this.data.f_nilai_pengadaan_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a).replace(/,/g,".")}if("biaya4"===a){const a=e.replace(/[^\d]+/gi,"");let n=this.data.f_ppn?a*this.data.f_ppn/100:"";this.data.f_harga_satuan_ppn_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n).replace(/,/g,"."),this.data.f_harga_satuan=Number(a),this.data.f_harga_satuan_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a).replace(/,/g,".");let t=n?n*this.data.f_volume:"0";this.data.f_nilai_pengadaan=n?n*this.data.f_volume:"0",this.data.f_nilai_pengadaan_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t).replace(/,/g,".")}if("biaya5"===a){const a=e.replace(/[^\d]+/gi,"");this.data.f_harga_satuan_ppn=Number(a);let n=a?a*this.data.f_volume:"0";this.data.f_nilai_pengadaan=a?a*this.data.f_volume:"0",this.data.f_nilai_pengadaan_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n).replace(/,/g,"."),this.data.f_harga_satuan_ppn_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a).replace(/,/g,".")}if("biaya6"===a){const a=e.replace(/[^\d]+/gi,"");this.data.f_nilai_pengadaan=Number(a),this.data.f_nilai_pengadaan_masking=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a).replace(/,/g,".")}}}};var N=n(1639),S=n(7605),E=n(6602),W=n(1663),Z=n(4455),x=n(1973),P=n(2133),R=n(9885),K=n(8556),$=n(6611),H=n(9984),C=n.n(H);const T=(0,N.Z)(I,[["render",w]]),Q=T;C()(I,"components",{QLayout:S.Z,QHeader:E.Z,QToolbar:W.Z,QBtn:Z.Z,QToolbarTitle:x.Z,QPageContainer:P.Z,QPage:R.Z,QSelect:K.Z,QInput:$.Z})}}]);