(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4db69360"],{2579:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row page-title"},[e("div",{staticClass:"col-md-12"},[e("b-breadcrumb",{staticClass:"float-right mt-1",attrs:{items:t.items}}),e("h4",{staticClass:"mb-1 mt-0"},[t._v(t._s(t.title))])],1)])},n=[],i=(e("96cf"),e("cb0c")),s={components:{},mounted:function(){this.Getceklogin()},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}},methods:{Getceklogin:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=localStorage.getItem("jwt"),console.log("level",a),null==a&&(document.location="/#/");case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}},o=s,l=e("2877"),c=Object(l["a"])(o,r,n,!1,null,null,null);a["a"]=c.exports},"7f52":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Layout",[e("PageHeader",{staticClass:"d-print-none",attrs:{title:t.title,items:t.items}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"table-responsive"},[e("b-alert",{attrs:{variant:"success",dismissible:""},model:{value:t.alert,callback:function(a){t.alert=a},expression:"alert"}},[t._v(t._s(t.message))]),e("br"),t._v("  \n\t\t\t\t\t\t\t\t"),e("br"),e("div",{staticClass:"table-responsive"},[e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Jenis","label-for":"input-horizontal"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Jenis"},model:{value:t.data.f_jenis,callback:function(a){t.$set(t.data,"f_jenis",a)},expression:"data.f_jenis"}})],1),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Tahun","label-for":"input-horizontal"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Tahun"},model:{value:t.data.f_tahun,callback:function(a){t.$set(t.data,"f_tahun",a)},expression:"data.f_tahun"}})],1),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Keterangan","label-for":"input-horizontal"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Keterangan"},model:{value:t.data.f_keterangan,callback:function(a){t.$set(t.data,"f_keterangan",a)},expression:"data.f_keterangan"}})],1),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Pejabat","label-for":"input-horizontal"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Pejabat"},model:{value:t.data.f_pejabat,callback:function(a){t.$set(t.data,"f_pejabat",a)},expression:"data.f_pejabat"}})],1),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Nama","label-for":"input-horizontal"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Nama"},model:{value:t.data.f_nama,callback:function(a){t.$set(t.data,"f_nama",a)},expression:"data.f_nama"}})],1),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Kota","label-for":"input-horizontal"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Kota"},model:{value:t.data.f_kota,callback:function(a){t.$set(t.data,"f_kota",a)},expression:"data.f_kota"}})],1),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Color","label-for":"input-horizontal"}},[e("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Color"},model:{value:t.data.f_color,callback:function(a){t.$set(t.data,"f_color",a)},expression:"data.f_color"}})],1),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Background","label-for":"input-horizontal"}},[e("input",{attrs:{type:"file",name:"bg"}}),e("button",{attrs:{label:"Simpan"},on:{click:t.onUploadFilebg}},[t._v("Upload")]),e("img",{attrs:{src:t.data.f_background,width:"100%"}})]),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2",label:"Tanda Tangan","label-for":"input-horizontal"}},[e("input",{attrs:{type:"file",name:"td"}}),e("button",{attrs:{label:"Simpan"},on:{click:t.onUploadFiletd}},[t._v("Upload")]),e("img",{attrs:{src:t.data.f_tandatangan,width:"100%"}})]),e("b-form-group",{attrs:{"label-cols-sm":"10","label-cols-lg":"2","label-for":"input-horizontal"}},[t.aksiEdit?e("b-button",{attrs:{variant:"success"},on:{click:function(a){return t.onSave(t.data.f_sertifikat_id)}}},[t._v("Simpan Data")]):t._e(),t._v("\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t"),t.aksiEdit?t._e():e("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.openEdit(t.data.f_sertifikat_id)}}},[t._v("Edit Data")])],1)],1)],1)])])])])])])],1)},n=[],i=(e("96cf"),e("cb0c")),s=(e("551c"),e("444f")),o=e("2579"),l=e("bc3a"),c=e.n(l),u=e("13fb"),d={page:{title:"Tanda Tangan Sertifikat"},components:{Layout:s["a"],PageHeader:o["a"]},data:function(){return{title:"Tanda Tangan Sertifikat "+this.$route.params.action,api:u["a"].Host(),message:"",data:[],options:"",aksiEdit:!1,aksiSave:!1,alert:!1,selectedFilebg:"",selectedFilettd:""}},mounted:function(){console.log("alamat",u["a"].Host()),this.Getdata(),"tambah"===this.$route.params.action&&(this.aksiEdit=!0,this.aksiSave=!0),"edit"===this.$route.params.action&&(this.aksiEdit=!0,this.aksiSave=!0),"detail"===this.$route.params.action&&(this.aksiEdit=!1,this.aksiSave=!1)},methods:{Getdata:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=this.$route.params.action,"detail"!==a&&"edit"!==a){t.next=7;break}return t.next=5,c.a.get(this.api+"/sertifikatref/"+this.$route.params.id,u["a"].authHeader());case 5:e=t.sent,this.data=e.data.Data[0];case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),openEdit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.location="/tandatangansertifikataction/edit/"+a;case 1:case"end":return t.stop()}}),t,this)})));return function(a){return t.apply(this,arguments)}}(),onUploadFilebg:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=document.querySelector("input[name=bg]").files[0],r=new FileReader,r.onloadend=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.result,e={f_background:a},i=null,t.next=5,c.a.post(n.api+"/sertifikatrefbg/"+n.$route.params.id,e,u["a"].authHeader());case 5:i=t.sent,200===i.status?(n.alert=!0,n.message=i.data.Error_desc,location.reload()):(n.alert=!0,n.message=i.data.Error_desc);case 7:case"end":return t.stop()}}),t,this)}))),r.readAsDataURL(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),onUploadFiletd:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=document.querySelector("input[name=td]").files[0],r=new FileReader,r.onloadend=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.result,e={f_tandatangan:a},i=null,t.next=5,c.a.post(n.api+"/sertifikatreftd/"+n.$route.params.id,e,u["a"].authHeader());case 5:i=t.sent,200===i.status?(n.alert=!0,n.message=i.data.Error_desc,location.reload()):(n.alert=!0,n.message=i.data.Error_desc);case 7:case"end":return t.stop()}}),t,this)}))),r.readAsDataURL(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),validation:function(){return this.data.f_keterangan?this.data.f_jenis?{code:200,message:""}:{code:500,message:"Jenis Data ini harus diisi"}:{code:500,message:"Keterangan Data ini harus diisi"}},onSave:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.validation(),200!==a.code){t.next=17;break}if(e=null,r=this.$route.params.action,n={f_keterangan:this.data.f_keterangan,f_jenis:this.data.f_jenis,f_pejabat:this.data.f_pejabat,f_tahun:this.data.f_tahun,f_nama:this.data.f_nama,f_kota:this.data.f_kota},"tambah"!==r){t.next=11;break}return t.next=8,c.a.post(this.api+"/sertifikatref",n,u["a"].authHeader());case 8:e=t.sent,t.next=14;break;case 11:return t.next=13,c.a.put(this.api+"/sertifikatref/"+this.$route.params.id,n,u["a"].authHeader());case 13:e=t.sent;case 14:0===e.data.Error_code?(this.alert=!0,this.message=e.data.Error_desc,document.location="/tandatangansertifikataction/detail/"+e.data.Data[0].f_sertifikat_id,this.Getdata(),this.aksiEdit=!this.aksiEdit,this.aksiSave=!1):(this.alert=!0,this.message=e.data.Error_desc),t.next=19;break;case 17:this.alert=!0,this.message=a.message;case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}},p=d,f=e("2877"),m=Object(f["a"])(p,r,n,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-4db69360-legacy.d016424e.js.map