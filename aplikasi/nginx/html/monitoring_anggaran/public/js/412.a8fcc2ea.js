"use strict";(globalThis["webpackChunkriskyakbar"]=globalThis["webpackChunkriskyakbar"]||[]).push([[412],{1412:(a,t,e)=>{e.r(t),e.d(t,{default:()=>$});e(8964);var n=e(9835),l=e(6970);const i={class:"q-pa-md"},o={class:"q-pa-md"},s={class:"q-pa-md"},d=(0,n._)("br",null,null,-1),u=(0,n.Uk)("   "),r=(0,n.Uk)("  "),_=(0,n._)("br",null,null,-1),m=(0,n._)("br",null,null,-1),p={class:"q-pa-md"},c=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Aksi"),(0,n._)("th",null,"No"),(0,n._)("th",null,"Pengusul"),(0,n._)("th",null,"User Update"),(0,n._)("th",null,"Nama Paket Pengadaan"),(0,n._)("th",null,"MAK"),(0,n._)("th",null,"Nomor SPK"),(0,n._)("th",null,"Nomor Kwitansi"),(0,n._)("th",null,"Nilai Pengadaan"),(0,n._)("th",null,"Penyedia"),(0,n._)("th",null,"Tanggal Kontrak/ Kwitansi"),(0,n._)("th",null,"Total Anggaran Terpakai"),(0,n._)("th",null,"Sisa Anggaran")])],-1),h=(0,n.Uk)(" Detail Data "),g=(0,n.Uk)("  "),f=(0,n.Uk)(" Edit Data "),k=(0,n.Uk)("  "),w=(0,n.Uk)(" Delete Data "),b=(0,n.Uk)("  ");function y(a,t,e,y,z,C){const j=(0,n.up)("q-select"),N=(0,n.up)("q-form"),S=(0,n.up)("q-btn"),D=(0,n.up)("q-tooltip"),Z=(0,n.up)("q-markup-table");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(N,null,{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n.Wm)(j,{outlined:"",modelValue:a.modeljenis,"onUpdate:modelValue":t[0]||(t[0]=t=>a.modeljenis=t),options:a.datajenis,"option-label":"f_nama",label:"Jenis","option-value":"f_monitoring_jenis_id",onClick:C.pilihmodeljenis},null,8,["modelValue","options","onClick"])]),(0,n._)("div",o,[(0,n.Wm)(j,{outlined:"",modelValue:a.modeltahun,"onUpdate:modelValue":t[1]||(t[1]=t=>a.modeltahun=t),options:a.datatahun,"option-label":"f_tahun",label:"Tahun","option-value":"f_tahun",onClick:a.pilihmodeltahun},null,8,["modelValue","options","onClick"])]),(0,n._)("div",s,[(0,n.Wm)(j,{outlined:"",modelValue:a.modeluser,"onUpdate:modelValue":t[2]||(t[2]=t=>a.modeluser=t),options:a.datauser,"option-label":"f_nama",label:"Pengusul","option-value":"f_nama",onClick:C.pilihmodeluser},null,8,["modelValue","options","onClick"])])])),_:1}),d,u,(0,n.Wm)(S,{push:"",size:"sm",style:{"background-color":"#47B1D7"},class:"text-white",icon:"add",label:"Tambah",to:"/datapageaction/tambah"}),r,(0,n.Wm)(S,{push:"",size:"sm",color:"red",onClick:t[3]||(t[3]=a=>C.openCetak()),label:"Print",icon:"print"}),_,m,(0,n._)("div",p,[(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[c,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.data,((a,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:a.count},[(0,n._)("td",null,[(0,n.Wm)(S,{size:"sm",color:"secondary",round:"",dense:"",onClick:t=>C.openDetail(a.f_monitoring_id),icon:"library_books"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{"content-class":"bg-light-blue-10","content-style":"font-size: 16px",offset:[10,10]},{default:(0,n.w5)((()=>[h])),_:1})])),_:2},1032,["onClick"]),g,(0,n.Wm)(S,{size:"sm",color:"amber",round:"",dense:"",onClick:t=>C.openEdit(a.f_monitoring_id),icon:"create"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{"content-class":"bg-light-blue-10","content-style":"font-size: 16px",offset:[10,10]},{default:(0,n.w5)((()=>[f])),_:1})])),_:2},1032,["onClick"]),k,(0,n.Wm)(S,{size:"sm",color:"red",round:"",dense:"",onClick:t=>C.openRemove(a.f_monitoring_id),icon:"delete"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{"content-class":"bg-light-blue-10","content-style":"font-size: 16px",offset:[10,10]},{default:(0,n.w5)((()=>[w])),_:1})])),_:2},1032,["onClick"]),b]),(0,n._)("td",null,(0,l.zw)(t+1),1),(0,n._)("td",null,(0,l.zw)(a.fn_user),1),(0,n._)("td",null,(0,l.zw)(a.f_username_create),1),(0,n._)("td",null,(0,l.zw)(a.f_nama_paket_pengadaan),1),(0,n._)("td",null,(0,l.zw)(a.f_mak),1),(0,n._)("td",null,(0,l.zw)(a.f_nomor_spk),1),(0,n._)("td",null,(0,l.zw)(a.f_nomor_kwitansi),1),(0,n._)("td",null,"Rp. "+(0,l.zw)(a.f_nilai_pengadaan?a.f_nilai_pengadaan.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1."):"0"),1),(0,n._)("td",null,(0,l.zw)(a.f_penyedia),1),(0,n._)("td",null,(0,l.zw)("0000-00-00"===a.f_tanggal_pengadaan?"":a.f_tanggal_pengadaan),1),(0,n._)("td",null,"Rp. "+(0,l.zw)(a.f_total_anggaran_terpakai?a.f_total_anggaran_terpakai.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1."):"0"),1),(0,n._)("td",null,"Rp. "+(0,l.zw)(a.f_sisa_anggaran?a.f_sisa_anggaran.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1."):"0"),1)])))),128))])])),_:1})])],64)}e(1526),e(4328);var z=e(9981),C=e.n(z),j=e(752);const N={data:()=>({api:j.Z.Host(),message:"",data:[],modeltahun:{f_tahun:(new Date).getFullYear()},options:"",modeljenis:"",datajenis:[],modeluser:"",datauser:[]}),mounted(){console.log("alamat",j.Z.Host()),this.Getfilter(),this.Getdata()},computed:{pilihmodeljenis(){return this.Getdata(this.modeljenis,this.modeltahun)},pilihmodeluser(){return this.Getdata(this.modeljenis,this.modeltahun,this.modeluser)}},methods:{async Getdata(a,t,e){try{let n=t?JSON.parse(JSON.stringify(t.f_tahun)):(new Date).getFullYear(),l=a?JSON.parse(JSON.stringify(a.f_monitoring_jenis_id)):"",i=e?JSON.parse(JSON.stringify(e.f_monitoring_user_id)):"",o=await C().get(this.api+"/monitoring/index?jenis="+l+"&tahun="+n+"&user="+i,j.Z.authHeader());this.data=o.data}catch(n){console.error(n)}},async openCetak(){let a=this.modeltahun?JSON.parse(JSON.stringify(this.modeltahun.f_tahun)):(new Date).getFullYear(),t=this.modeljenis.f_monitoring_jenis_id?JSON.parse(JSON.stringify(this.modeljenis.f_monitoring_jenis_id)):"",e=this.modeluser.f_monitoring_user_id?JSON.parse(JSON.stringify(this.modeluser.f_monitoring_user_id)):"";document.location="#/cetakdata/"+a+"/"+t+"/"+e},async Getfilter(){try{let a=await C().get(this.api+"/jenis/index",j.Z.authHeader());this.datajenis=a.data;let t=await C().get(this.api+"/user/index",j.Z.authHeader());this.datauser=t.data;let e=[],n=(new Date).getFullYear();do{e.push({f_tahun:n}),n--}while(n>2001);this.datatahun=e}catch(a){console.error(a)}},async openEdit(a){document.location="#/datapageaction/edit/"+a},async openDetail(a){document.location="#/datapageaction/detail/"+a},async openRemove(a){const t=this.data.find((t=>t.f_monitoring_id===a));t&&this.$q.dialog({title:"Confirm",message:`Anda yakin akan menghapus data ini "${t.f_nama_paket_pengadaan}-${t.fn_jenis}"?`,cancel:!0,persistent:!0}).onOk((async()=>{const a=await C()["delete"](this.api+"/monitoring/delete/"+t.f_monitoring_id,j.Z.authHeader());200===a.data.code?(this.$q.notify(j.Z.CustomNotify("error",a.data.message,2e4,"center")),this.Getdata()):this.$q.notify(j.Z.CustomNotify("error",a.data.message,2e4,"center"))}))}}};var S=e(1639),D=e(8326),Z=e(8556),J=e(4455),O=e(6933),U=e(6858),W=e(9984),q=e.n(W);const v=(0,S.Z)(N,[["render",y]]),$=v;q()(N,"components",{QForm:D.Z,QSelect:Z.Z,QBtn:J.Z,QMarkupTable:O.Z,QTooltip:U.Z})}}]);