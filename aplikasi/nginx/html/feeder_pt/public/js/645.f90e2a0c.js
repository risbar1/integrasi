"use strict";(globalThis["webpackChunk_UNISYS_REVOLUSI"]=globalThis["webpackChunk_UNISYS_REVOLUSI"]||[]).push([[645],{5988:(e,t,a)=>{a.d(t,{Z:()=>s});class o{}o.Host=(e="")=>{const t=location.protocol,a=location.hostname,o=location.port;return t+"//"+a+":"+o+"/feeder_pt"+e},o.Hostws=(e="")=>{const t=location.protocol,a=location.hostname,o=location.port;return t+"//"+a+":"+o+"/feeder_ws"+e},o.Headers=()=>({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Accept, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization","Access-Control-Allow-Credentials":"true",authorization:"Bearer "+localStorage.getItem("jwt")}});const s=o},1645:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var o=a(9835),s=a(1957);const l={class:"row full-width"},r={class:"col-md-8 offset-md-2 col-xs-12 q-pl-md q-pr-md q-pt-sm"},n={class:"row"},i={class:"col-md-6 col-xs-12 q-pa-md"},c={class:"col-md-6 col-xs-12"},d={class:"q-pa-md"},p=(0,o._)("div",{class:"text-h6 q-pb-md text-blue-8 text-center text-weight-bolder"}," UNISYS REVOLUSI ",-1),u=(0,o._)("br",null,null,-1),m={class:"q-pa-md"},h=(0,o._)("br",null,null,-1);function g(e,t,a,g,w,_){const k=(0,o.up)("q-img"),f=(0,o.up)("q-input"),b=(0,o.up)("q-btn"),y=(0,o.up)("q-form"),q=(0,o.up)("q-option-group"),S=(0,o.up)("q-card"),v=(0,o.up)("q-page"),C=(0,o.up)("q-page-container"),Z=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(Z,{view:"hHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{class:"bg-grey-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{padding:"",class:"row items-center justify-center"},{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o._)("div",r,[(0,o.Wm)(S,{flat:"",class:"bg-white text-black"},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o._)("div",i,[(0,o.Wm)(k,{"placeholder-src":"/home-gambar.jpg",src:"/home-gambar.jpg","spinner-color":"white"})]),(0,o._)("div",c,[(0,o._)("div",d,[p,!0===e.cek?((0,o.wg)(),(0,o.j4)(y,{key:0,onSubmit:(0,s.iM)(e.Login,["prevent"]),class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{filled:"",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),label:"Username",placeholder:"Username",maxlength:100,"lazy-rules":""},null,8,["modelValue"]),(0,o.Wm)(f,{filled:"",type:"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),label:"Password","lazy-rules":"",maxlength:100},null,8,["modelValue"]),(0,o._)("div",null,[(0,o.Wm)(b,{label:"Login",type:"submit",color:"primary",icon:"login"}),(0,o.Wm)(b,{label:"Reset",type:"reset",color:"white","text-color":"primary",class:"q-ml-sm",onClick:e.Reset,icon:"refresh"},null,8,["onClick"])])])),_:1},8,["onSubmit"])):(0,o.kq)("",!0),u,!1===e.cek?((0,o.wg)(),(0,o.j4)(y,{key:1,onSubmit:(0,s.iM)(e.Hakakses,["prevent"])},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o.Wm)(q,{type:"radio",modelValue:e.f_otoritas_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.f_otoritas_id=t),options:e.hak_akses},null,8,["modelValue","options"])]),h,(0,o.Wm)(b,{label:"Pilih Hak Akses",type:"submit",color:"secondary",icon:"double_arrow"})])),_:1},8,["onSubmit"])):(0,o.kq)("",!0)])])])])),_:1})])])])),_:1})])),_:1})])),_:1})}a(3269),a(9665);var w=a(112),_=a(5988);const k=(0,o.aZ)({data(){return{api:_.Z.Host(),username:"",password:"",hak_akses:[],data:[],cek:!0,f_otoritas_id:""}},mounted(){console.log("alamat",_.Z.Host())},methods:{async Reset(){this.username="",this.password=""},async Login(){try{const t=new URLSearchParams;t.append("username",this.username),t.append("password",this.password);let a=await w.Z.post(this.api+"/login",t);if(0===a.data.Error_code){let t=a.data.Token;if(localStorage.setItem("jwt",t),t){let t=a.data.Username;var e=await w.Z.get(this.api+"/hak_akses/"+t);this.hak_akses=e.data.Data;for(const a of e.data.Data)a.value=a.f_otoritas_id,a.label=a.f_otoritas;this.cek=!1}}else this.$q.notify({message:a.data.Error_desc,timeout:5e3,type:"negative",position:"center",actions:[{label:"x",color:"yellow",handler:()=>{}}]})}catch(t){}},async Hakakses(){try{localStorage.setItem("otoritas",this.f_otoritas_id),this.$router.push("/dashboard")}catch(e){}}}});var f=a(1639),b=a(249),y=a(2133),q=a(9885),S=a(4458),v=a(335),C=a(8326),Z=a(6611),A=a(4455),U=a(5429),T=a(9984),x=a.n(T);const I=(0,f.Z)(k,[["render",g]]),V=I;x()(k,"components",{QLayout:b.Z,QPageContainer:y.Z,QPage:q.Z,QCard:S.Z,QImg:v.Z,QForm:C.Z,QInput:Z.Z,QBtn:A.Z,QOptionGroup:U.Z})}}]);