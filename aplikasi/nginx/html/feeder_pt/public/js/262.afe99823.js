"use strict";(globalThis["webpackChunk_Feeder_PT"]=globalThis["webpackChunk_Feeder_PT"]||[]).push([[262],{5988:(e,t,o)=>{o.d(t,{Z:()=>s});class a{}a.Host=(e="")=>{const t="dev";if("dev"===t){const t=location.protocol,o=location.hostname,a=location.port;return t+"//"+o+":"+a+"/feeder_pt"+e}{const t=location.protocol,o=location.hostname,a=location.port;return t+"//"+o+":"+a+"/feeder_pt"+e}},a.Hostws=(e="")=>{const t="dev";if("dev"===t){const t=location.protocol,o=location.hostname,a=location.port;return t+"//"+o+":"+a+"/feeder_ws"+e}{const t=location.protocol,o=location.hostname,a=location.port;return t+"//"+o+":"+a+"/feeder_ws"+e}},a.Headers=()=>({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Accept, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization","Access-Control-Allow-Credentials":"true",authorization:"Bearer "+localStorage.getItem("jwt")}});const s=a},3262:(e,t,o)=>{o.r(t),o.d(t,{default:()=>W});var a=o(9835),s=o(1957);const l={class:"row full-width"},r={class:"col-md-8 offset-md-2 col-xs-12 q-pl-md q-pr-md q-pt-sm"},n={class:"row"},i={class:"col-md-6 col-xs-12 q-pa-md"},c={class:"col-md-6 col-xs-12"},d={class:"q-pa-md"},p=(0,a._)("div",{class:"text-h6 q-pb-md text-blue-8 text-center text-weight-bolder"}," Feeder PT ",-1),u=(0,a._)("br",null,null,-1),m={class:"q-pa-md"},h=(0,a._)("br",null,null,-1);function _(e,t,o,_,w,g){const f=(0,a.up)("q-img"),k=(0,a.up)("q-input"),b=(0,a.up)("q-btn"),y=(0,a.up)("q-form"),v=(0,a.up)("q-option-group"),q=(0,a.up)("q-card"),C=(0,a.up)("q-page"),T=(0,a.up)("q-page-container"),Z=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(Z,{view:"hHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"bg-grey-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{padding:"",class:"row items-center justify-center"},{default:(0,a.w5)((()=>[(0,a._)("div",l,[(0,a._)("div",r,[(0,a.Wm)(q,{flat:"",class:"bg-white text-black"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",i,[(0,a.Wm)(f,{"placeholder-src":"/home-gambar.jpg",src:"/home-gambar.jpg","spinner-color":"white"})]),(0,a._)("div",c,[(0,a._)("div",d,[p,!0===e.cek?((0,a.wg)(),(0,a.j4)(y,{key:0,onSubmit:(0,s.iM)(e.Login,["prevent"]),class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{filled:"",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),label:"Username",placeholder:"Username",maxlength:100,"lazy-rules":""},null,8,["modelValue"]),(0,a.Wm)(k,{filled:"",type:"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),label:"Password","lazy-rules":"",maxlength:100},null,8,["modelValue"]),(0,a._)("div",null,[(0,a.Wm)(b,{label:"Login",type:"submit",color:"primary",icon:"login"}),(0,a.Wm)(b,{label:"Reset",type:"reset",color:"white","text-color":"primary",class:"q-ml-sm",onClick:e.Reset,icon:"refresh"},null,8,["onClick"])])])),_:1},8,["onSubmit"])):(0,a.kq)("",!0),u,!1===e.cek?((0,a.wg)(),(0,a.j4)(y,{key:1,onSubmit:(0,s.iM)(e.Hakakses,["prevent"])},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a.Wm)(v,{type:"radio",modelValue:e.f_otoritas_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.f_otoritas_id=t),options:e.hak_akses},null,8,["modelValue","options"])]),h,(0,a.Wm)(b,{label:"Pilih Hak Akses",type:"submit",color:"secondary",icon:"double_arrow"})])),_:1},8,["onSubmit"])):(0,a.kq)("",!0)])])])])),_:1})])])])),_:1})])),_:1})])),_:1})}o(3269),o(9665);var w=o(112),g=o(5988);const f=(0,a.aZ)({data(){return{api:g.Z.Host(),username:"",password:"",hak_akses:[],data:[],cek:!0,f_otoritas_id:""}},mounted(){console.log("alamat",g.Z.Host())},methods:{async Reset(){this.username="",this.password=""},async Login(){try{const t=new URLSearchParams;t.append("username",this.username),t.append("password",this.password);let o=await w.Z.post(this.api+"/login",t);if(0===o.data.Error_code){let t=o.data.Token;if(localStorage.setItem("jwt",t),t){let t=o.data.Username;var e=await w.Z.get(this.api+"/hak_akses/"+t);this.hak_akses=e.data.Data;for(const o of e.data.Data)o.value=o.f_otoritas_id,o.label=o.f_otoritas;this.cek=!1}}else this.$q.notify({message:o.data.Error_desc,timeout:5e3,type:"negative",position:"center",actions:[{label:"x",color:"yellow",handler:()=>{}}]})}catch(t){}},async Hakakses(){try{localStorage.setItem("otoritas",this.f_otoritas_id),this.$router.push("/dashboard")}catch(e){}}}});var k=o(1639),b=o(249),y=o(2133),v=o(9885),q=o(4458),C=o(335),T=o(8326),Z=o(6611),A=o(4455),x=o(5429),P=o(9984),H=o.n(P);const S=(0,k.Z)(f,[["render",_]]),W=S;H()(f,"components",{QLayout:b.Z,QPageContainer:y.Z,QPage:v.Z,QCard:q.Z,QImg:C.Z,QForm:T.Z,QInput:Z.Z,QBtn:A.Z,QOptionGroup:x.Z})}}]);