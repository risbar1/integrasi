"use strict";(globalThis["webpackChunk_Feeder_PT"]=globalThis["webpackChunk_Feeder_PT"]||[]).push([[262],{5988:(e,a,t)=>{t.d(a,{Z:()=>s});class o{}o.Host=()=>{const e="http://localhost:3005";return e},o.Headers=()=>({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Accept, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization","Access-Control-Allow-Credentials":"true",authorization:"Bearer "+localStorage.getItem("jwt")}});const s=o},3262:(e,a,t)=>{t.r(a),t.d(a,{default:()=>W});var o=t(9835),s=t(1957);const l={class:"row full-width"},r={class:"col-md-8 offset-md-2 col-xs-12 q-pl-md q-pr-md q-pt-sm"},n={class:"row"},i={class:"col-md-6 col-xs-12 q-pa-md"},d={class:"col-md-6 col-xs-12"},c={class:"q-pa-md"},u=(0,o._)("div",{class:"text-h6 q-pb-md text-blue-8 text-center text-weight-bolder"}," Feeder PT ",-1),p=(0,o._)("br",null,null,-1),m={class:"q-pa-md"},h=(0,o._)("br",null,null,-1);function g(e,a,t,g,w,_){const k=(0,o.up)("q-img"),b=(0,o.up)("q-input"),f=(0,o.up)("q-btn"),y=(0,o.up)("q-form"),q=(0,o.up)("q-option-group"),v=(0,o.up)("q-card"),C=(0,o.up)("q-page"),T=(0,o.up)("q-page-container"),Z=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(Z,{view:"hHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{class:"bg-grey-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{padding:"",class:"row items-center justify-center"},{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o._)("div",r,[(0,o.Wm)(v,{flat:"",class:"bg-white text-black"},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o._)("div",i,[(0,o.Wm)(k,{"placeholder-src":"/home-gambar.jpg",src:"/home-gambar.jpg","spinner-color":"white"})]),(0,o._)("div",d,[(0,o._)("div",c,[u,!0===e.cek?((0,o.wg)(),(0,o.j4)(y,{key:0,onSubmit:(0,s.iM)(e.Login,["prevent"]),class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{filled:"",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=a=>e.username=a),label:"Username",placeholder:"Username",maxlength:100,"lazy-rules":""},null,8,["modelValue"]),(0,o.Wm)(b,{filled:"",type:"password",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.password=a),label:"Password","lazy-rules":"",maxlength:100},null,8,["modelValue"]),(0,o._)("div",null,[(0,o.Wm)(f,{label:"Login",type:"submit",color:"primary",icon:"login"}),(0,o.Wm)(f,{label:"Reset",type:"reset",color:"white","text-color":"primary",class:"q-ml-sm",onClick:e.Reset,icon:"refresh"},null,8,["onClick"])])])),_:1},8,["onSubmit"])):(0,o.kq)("",!0),p,!1===e.cek?((0,o.wg)(),(0,o.j4)(y,{key:1,onSubmit:(0,s.iM)(e.Hakakses,["prevent"])},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o.Wm)(q,{type:"radio",modelValue:e.f_otoritas_id,"onUpdate:modelValue":a[2]||(a[2]=a=>e.f_otoritas_id=a),options:e.hak_akses},null,8,["modelValue","options"])]),h,(0,o.Wm)(f,{label:"Pilih Hak Akses",type:"submit",color:"secondary",icon:"double_arrow"})])),_:1},8,["onSubmit"])):(0,o.kq)("",!0)])])])])),_:1})])])])),_:1})])),_:1})])),_:1})}t(3269),t(9665);var w=t(112),_=t(5988);const k=(0,o.aZ)({data(){return{api:_.Z.Host(),username:"",password:"",hak_akses:[],data:[],cek:!0,f_otoritas_id:""}},mounted(){console.log("alamat",_.Z.Host())},methods:{async Reset(){this.username="",this.password=""},async Login(){try{const a=new URLSearchParams;a.append("username",this.username),a.append("password",this.password);let t=await w.Z.post(this.api+"/login",a);if(0===t.data.Error_code){let a=t.data.Token;if(localStorage.setItem("jwt",a),a){let a=t.data.Username;var e=await w.Z.get(this.api+"/hak_akses/"+a);this.hak_akses=e.data.Data;for(const t of e.data.Data)t.value=t.f_otoritas_id,t.label=t.f_otoritas;this.cek=!1}}else this.$q.notify({message:t.data.Error_desc,timeout:5e3,type:"negative",position:"center",actions:[{label:"x",color:"yellow",handler:()=>{}}]})}catch(a){}},async Hakakses(){try{localStorage.setItem("otoritas",this.f_otoritas_id),this.$router.push("/dashboard")}catch(e){}}}});var b=t(1639),f=t(249),y=t(2133),q=t(9885),v=t(4458),C=t(335),T=t(8326),Z=t(6611),A=t(4455),x=t(1986),P=t(9984),S=t.n(P);const H=(0,b.Z)(k,[["render",g]]),W=H;S()(k,"components",{QLayout:f.Z,QPageContainer:y.Z,QPage:q.Z,QCard:v.Z,QImg:C.Z,QForm:T.Z,QInput:Z.Z,QBtn:A.Z,QOptionGroup:x.Z})}}]);